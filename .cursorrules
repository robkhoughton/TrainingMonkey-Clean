# TrainingMonkey Project Rules for Cursor

## üóÑÔ∏è Database Standards (CRITICAL)
- **PostgreSQL ONLY**: Use `%s` placeholders (NOT `?`), `SERIAL PRIMARY KEY` (NOT `AUTOINCREMENT`), `NOW()` (NOT `CURRENT_TIMESTAMP`)
- **Schema Changes**: Use SQL Editor ONLY, never modify schema in code
- **Date Operations**: Use `datetime.now().date()` for date-only operations, `'YYYY-MM-DD'` format for APIs
- **Connection**: Direct cloud PostgreSQL connection: `postgresql://appuser:trainmonk25@35.223.144.85:5432/train-d`

## üîß Code Quality Standards
- **Public APIs**: Use intended public methods, avoid private method calls
- **Error Handling**: Provide meaningful error messages, fail gracefully
- **SQL Injection**: Always use parameterized queries with `%s` placeholders
- **Transactions**: Use explicit commits and context managers for database connections

## üöÄ Development Workflow
- **Root Cause Analysis**: Check database state before making assumptions
- **End-to-End Testing**: Test complete user flows, not just components
- **Validation**: Run `validate_sql_syntax.py` before commits
- **Clean Code**: Remove debugging artifacts, use proper validation
- **Deployment**: User handles all deployments. Assistant prepares code changes but NEVER runs deployment commands

## üìã Timezone & Date Standards
- **Storage**: UTC timestamps in database
- **Application**: Use `get_app_current_date()` for consistent date handling
- **APIs**: Return dates in `'YYYY-MM-DD'` format
- **Debugging**: Use `log_timezone_debug()` for timezone issues

## ‚ùå Common Mistakes to Avoid
- Using SQLite syntax (`?`, `AUTOINCREMENT`, `CURRENT_TIMESTAMP`)
- Calling private methods from outside their class
- Making schema changes in application code
- Using `datetime.now()` for date-only operations
- Inconsistent date formats in API responses

## üéØ Success Criteria
- All SQL queries use PostgreSQL syntax
- All date operations use proper date objects
- All APIs return consistent formats
- All schema changes via SQL Editor
- Clean error handling and logging