 ğŸ“Š Flask Application Dependency Tree

  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TIER 0: Root Application (1 file, 12,438 lines)                            â”‚
  â”‚ â”œâ”€ strava_app.py [12,438 lines]                                            â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TIER 1: Direct Dependencies (21 files, 12,630 lines, avg 601 lines/file)   â”‚
  â”‚ â”œâ”€ db_utils.py [1,145]                                                      â”‚
  â”‚ â”œâ”€ llm_recommendations_module.py [2,294]                                    â”‚
  â”‚ â”œâ”€ strava_training_load.py [2,034]                                          â”‚
  â”‚ â”œâ”€ enhanced_token_management.py [1,138]                                     â”‚
  â”‚ â”œâ”€ acwr_visualization_routes.py [930]                                       â”‚
  â”‚ â”œâ”€ acwr_configuration_admin.py [945]                                        â”‚
  â”‚ â”œâ”€ acwr_migration_admin.py [804]                                            â”‚
  â”‚ â”œâ”€ csrf_protection.py [528]                                                 â”‚
  â”‚ â”œâ”€ optimized_acwr_service.py [516]                                          â”‚
  â”‚ â”œâ”€ optimized_token_management.py [421]                                      â”‚
  â”‚ â”œâ”€ settings_utils.py [416]                                                  â”‚
  â”‚ â”œâ”€ db_connection_manager.py [294]                                           â”‚
  â”‚ â”œâ”€ acwr_feature_flag_admin.py [236]                                         â”‚
  â”‚ â”œâ”€ utils/data_aggregation.py [223]                                          â”‚
  â”‚ â”œâ”€ timezone_utils.py [190]                                                  â”‚
  â”‚ â”œâ”€ sync_fix.py [165]                                                        â”‚
  â”‚ â”œâ”€ auth.py [150]                                                            â”‚
  â”‚ â”œâ”€ utils/feature_flags.py [110]                                             â”‚
  â”‚ â”œâ”€ utils/date_processing.py [47]                                            â”‚
  â”‚ â”œâ”€ utils/secrets_manager.py [27]                                            â”‚
  â”‚ â””â”€ utils/__init__.py [17]                                                   â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚ TIER 2: Secondary Dependencies (6 files, 3,658 lines, avg 610 lines/file)  â”‚
  â”‚ â”œâ”€ acwr_configuration_service.py [1,014]                                    â”‚
  â”‚ â”œâ”€ acwr_visualization_service.py [710]                                      â”‚
  â”‚ â”œâ”€ acwr_migration_service.py [694]                                          â”‚
  â”‚ â”œâ”€ unified_metrics_service.py [599]                                         â”‚
  â”‚ â”œâ”€ acwr_calculation_service.py [386]                                        â”‚
  â”‚ â””â”€ acwr_feature_flag_monitor.py [255]                                       â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
                              [No Further Dependencies]
                     (Only standard library & external packages)

  ğŸ“ˆ Summary Statistics

  | Metric             | Value                        |
  |--------------------|------------------------------|
  | Total Tiers        | 3 (Tier 0, 1, 2)             |
  | Total Files        | 28 files                     |
  | Total Lines        | 28,726 lines                 |
  | Average Lines/File | 1,026 lines                  |
  | Largest File       | strava_app.py (12,438 lines) |
  | Dependency Depth   | Shallow (only 2 tiers deep)  |

  ğŸ” Key Insights

  - Core monolith: strava_app.py is 43% of total codebase (12,438/28,726 lines)
  - Tier 1 heavy: 21 direct dependencies, relatively flat architecture
  - ACWR dominance: 11 ACWR-related files across tiers (7,294 lines total)
  - Clean separation: Only 2 tiers of dependencies indicates good modular design
  - Missing files: 5 referenced files have been moved to scripts/ (migration tools)

  The application has a flat dependency structure with most complexity in the main app file, suggesting potential for future refactoring to break up strava_app.py into smaller
  modules.