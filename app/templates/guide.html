{% extends "base_getting_started.html" %}

{% block title %}Guide - Your Training Monkey{% endblock %}

{% block meta_description %}Master Your Training Monkey with comprehensive tutorials, advanced features, and expert tips. Learn to optimize your training and prevent injuries.{% endblock %}

{% block meta_keywords %}training monkey tutorials, advanced features, training optimization, injury prevention, training load analysis, expert tips{% endblock %}

{% block og_title %}Guide - Your Training Monkey{% endblock %}

{% block og_description %}Master Your Training Monkey with comprehensive tutorials, advanced features, and expert tips for optimal training performance.{% endblock %}

{% block canonical_path %}/guide{% endblock %}

{% block header_title %}
<h1>Guide</h1>
<p class="subtitle">Master advanced features and unlock your full training potential</p>
<p class="description">Discover comprehensive tutorials, expert tips, and advanced techniques to optimize your training and prevent injuries.</p>
{% endblock %}

{% block content %}
        <!-- Quick Start Guide -->
        <section class="setup-section">
            <h2>Quick Start Guide</h2>
            <div class="timeline-container">
                <!-- Step 1: Getting to Know Your Dashboard -->
                <div class="timeline-step">
                    <div class="step-icon">
                        <div class="icon-circle">
                            <span class="step-number-large">1</span>
                        </div>
                    </div>
                    <div class="step-content">
                        <h3>Explore Your Dashboard</h3>
                        <p>Understand your training load divergence analysis and key metrics</p>
                        <div class="step-details">
                            <div class="detail-item">
                                <span class="detail-icon">üìà</span>
                                <span>Training load trends</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">‚ö†Ô∏è</span>
                                <span>Injury risk alerts</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">üéØ</span>
                                <span>Performance insights</span>
                            </div>
                        </div>
                        <div class="step-action">
                            <a href="/dashboard" class="btn btn-primary">Explore Dashboard</a>
                        </div>
                    </div>
                </div>

                <!-- Timeline Connector -->
                <div class="timeline-connector"></div>

                <!-- Step 2: Advanced Settings -->
                <div class="timeline-step">
                    <div class="step-icon">
                        <div class="icon-circle">
                            <span class="step-number-large">2</span>
                        </div>
                    </div>
                    <div class="step-content">
                        <h3>Personalize Your Settings</h3>
                        <p>Customize your training analysis with personalized settings and preferences</p>
                        <div class="step-details">
                            <div class="detail-item">
                                <span class="detail-icon">‚ù§Ô∏è</span>
                                <span>Heart rate zones</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">‚öñÔ∏è</span>
                                <span>ACWR thresholds</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">üéØ</span>
                                <span>Training goals</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">üë®‚Äçüè´</span>
                                <span>Coaching style</span>
                            </div>
                        </div>
                        <div class="step-action">
                            <a href="/dashboard?tab=settings" class="btn btn-primary">Configure Settings</a>
                        </div>
                    </div>
                </div>

                <!-- Timeline Connector -->
                <div class="timeline-connector"></div>

                <!-- Step 3: Master Dashboard Features -->
                <div class="timeline-step">
                    <div class="step-icon">
                        <div class="icon-circle">
                            <span class="step-number-large">3</span>
                        </div>
                    </div>
                    <div class="step-content">
                        <h3>Empower AI</h3>
                        <p>Unlock AI-powered insights through subjective input and intelligent analysis</p>
                        <div class="step-details">
                            <div class="detail-item">
                                <span class="detail-icon">üìù</span>
                                <span>Subjective input</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">üìã</span>
                                <span>Training notes</span>
                            </div>
                            <div class="detail-item">
                                <span class="detail-icon">üîç</span>
                                <span>Daily review of training success</span>
                            </div>
                        </div>
                        <div class="step-action">
                            <a href="/dashboard?tab=journal" class="btn btn-primary">Open Journal</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Training Cycle Overview -->
        <section class="setup-section" style="background: white; padding: 2rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
            <div style="display: flex; justify-content: center;">
                <div style="position: relative; display: inline-block; max-width: 100%;">
                    <img src="{{ url_for('static', filename='images/TrainingCycle.png') }}"
                         alt="Training Cycle: Train, Monitor, Reflect, Plan"
                         style="max-width: 100%; height: auto; max-height: 500px; display: block;">

                    <!-- Clickable overlay links positioned over each box -->
                    <!-- Monitor (past) - right side box ‚Üí Dashboard -->
                    <a href="/dashboard"
                       title="Go to Dashboard"
                       style="position: absolute; top: 28%; right: 0%; width: 28%; height: 28%; cursor: pointer;"
                       aria-label="Monitor your training status on the Dashboard"></a>

                    <!-- Reflect (present) - bottom box ‚Üí Journal -->
                    <a href="/dashboard?tab=journal"
                       title="Go to Journal"
                       style="position: absolute; bottom: 2%; left: 50%; transform: translateX(-50%); width: 28%; height: 25%; cursor: pointer;"
                       aria-label="Reflect on your workouts in the Journal"></a>

                    <!-- Plan (future) - left side box ‚Üí Coach -->
                    <a href="/dashboard?tab=coach"
                       title="Go to Coach"
                       style="position: absolute; top: 28%; left: 0%; width: 28%; height: 30%; cursor: pointer;"
                       aria-label="Get coaching recommendations for your training plan"></a>
                </div>
            </div>
        </section>

        <!-- Tutorial Categories -->
        <section class="tutorial-section" id="tutorial-categories">
            <h2>Comprehensive Learning Resources</h2>
            <p>Master every aspect of Your Training Monkey with our detailed tutorials and guides.</p>
            
            <!-- Tutorial Categories -->
            <div class="tutorial-categories">
                <div class="tutorial-category">
                    <h3>üéØ Getting Started</h3>
                    <p>Learn the basics of connecting Strava and understanding your first analysis.</p>
                    <div class="tutorial-links">
                        <a href="/tutorials#getting-started-guide" class="tutorial-link">Getting Started Guide</a>
                        <a href="/tutorials#frequently-asked-questions" class="tutorial-link">Frequently Asked Questions</a>
                        <a href="/tutorials#dashboard-overview" class="tutorial-link">Dashboard Overview</a>
                    </div>
                </div>
                
                <div class="tutorial-category">
                    <h3>üìä Dashboard & Analysis</h3>
                    <p>Master your training load dashboard and divergence analysis.</p>
                    <div class="tutorial-links">
                        <a href="/tutorials#dashboard-tour" class="tutorial-link">Dashboard Tour</a>
                        <a href="/tutorials#understanding-divergence" class="tutorial-link">Understanding Divergence</a>
                        <a href="/tutorials#acwr-explained" class="tutorial-link">ACWR Explained</a>
                        <a href="/dashboard?tab=settings" class="tutorial-link">Configure Settings</a>
                    </div>
                </div>
                
                <div class="tutorial-category">
                    <h3>üéØ Goals & Recommendations</h3>
                    <p>Set training goals and understand AI-powered recommendations.</p>
                    <div class="tutorial-links">
                        <a href="/tutorials#goals-setup" class="tutorial-link">Goals Setup</a>
                        <a href="/dashboard?tab=journal" class="tutorial-link">Journal & Tracking</a>
                        <a href="/tutorials#ai-recommendations" class="tutorial-link">AI Recommendations Guide</a>
                        <a href="/tutorials#training-optimization" class="tutorial-link">Training Optimization</a>
                    </div>
                </div>

                <div class="tutorial-category">
                    <h3>üõ°Ô∏è Injury Prevention</h3>
                    <p>Learn how to use divergence analysis to prevent injuries and overtraining.</p>
                    <div class="tutorial-links">
                        <a href="/tutorials#injury-prevention" class="tutorial-link">Injury Prevention Guide</a>
                        <a href="/tutorials#recognizing-overtraining" class="tutorial-link">Recognizing Overtraining</a>
                        <a href="/tutorials#recovery-optimization" class="tutorial-link">Recovery Optimization</a>
                    </div>
                </div>

                <div class="tutorial-category coming-soon-category">
                    <h3>üì± Advanced Features <span class="coming-soon-badge">Coming Soon</span></h3>
                    <p>Explore advanced features and customization options.</p>
                    <!-- Advanced Features tutorials - Coming Soon
                    <div class="tutorial-links">
                        <a href="/tutorials#data-export-analysis" class="tutorial-link">Data Export & Analysis</a>
                        <a href="/tutorials#custom-metrics" class="tutorial-link">Custom Metrics</a>
                        <a href="/tutorials#third-party-integrations" class="tutorial-link">Third-party Integrations</a>
                    </div>
                    -->
                    <div class="coming-soon-message">
                        <p>These features are currently in development. Stay tuned!</p>
                    </div>
                </div>

                <div class="tutorial-category">
                    <h3>‚ùì Troubleshooting</h3>
                    <p>Common issues and how to resolve them.</p>
                    <div class="tutorial-links">
                        <a href="/tutorials#sync-issues" class="tutorial-link">Sync Issues</a>
                        <a href="/tutorials#data-accuracy" class="tutorial-link">Data Accuracy</a>
                        <a href="/tutorials#performance-tips" class="tutorial-link">Performance Tips</a>
                    </div>
                </div>
            </div>
            
            <div class="tutorial-buttons" style="display: flex; justify-content: center;">
                <a href="/tutorials" class="btn btn-primary">View All Tutorials</a>
            </div>
        </section>

        <!-- Expert Tips Section -->
        <section class="faq-section">
            <h2>Expert Tips & Best Practices</h2>
            <div class="faq-list">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How often should I check my training analysis?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>We recommend checking your analysis weekly to track trends and make adjustments to your training plan. The dashboard updates automatically as new activities are synced from Strava.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What's the best way to interpret divergence alerts?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Positive divergence means your external load is higher than internal stress (good fitness adaptation). Negative divergence indicates potential overtraining risk and suggests reducing training intensity or taking additional recovery time.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How can I optimize my training based on AI recommendations?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>AI recommendations are based on your historical data patterns. Use them as guidance, but always listen to your body. Combine the data insights with your personal experience and consult with a coach for personalized training advice.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>What should I do if I see consistent negative divergence?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Consistent negative divergence suggests your body is under more stress than your training load indicates. Consider reducing training volume, increasing recovery time, checking sleep quality, and monitoring nutrition and hydration.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFAQ(this)">
                        <span>How do I set realistic training goals?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Set goals based on your current fitness level and available training time. Use the dashboard to track progress and adjust goals as needed. Focus on consistency over intensity, especially when building your training base.</p>
                    </div>
                </div>
            </div>
        </section>


        <!-- Coming Soon Popup -->
        <div id="coming-soon-overlay" class="popup-overlay popup-hidden"></div>
        <div id="coming-soon-popup" class="coming-soon-popup popup-hidden">
            <h3>üöÄ Coming Soon!</h3>
            <p>This tutorial is currently in development. We're working hard to bring you comprehensive guides and resources.</p>
            <button class="btn" onclick="closeComingSoonPopup()">Got it!</button>
        </div>

        <!-- Under Construction Popup -->
        <div id="under-construction-overlay" class="popup-overlay popup-hidden"></div>
        <div id="under-construction-popup" class="coming-soon-popup popup-hidden">
            <h3>üöß Under Construction</h3>
            <p>This feature is currently being developed. Check back soon for updates!</p>
            <button class="btn" onclick="closeUnderConstructionPopup()">Got it!</button>
        </div>
{% endblock %}

{% block extra_scripts %}
<style>
    /* Coming Soon Badge Styles */
    .coming-soon-badge {
        display: inline-block;
        background: linear-gradient(135deg, #f59e0b, #d97706);
        color: white;
        font-size: 0.65rem;
        font-weight: 600;
        padding: 0.25rem 0.5rem;
        border-radius: 12px;
        margin-left: 0.5rem;
        vertical-align: middle;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    .coming-soon-category {
        opacity: 0.85;
        position: relative;
    }

    .coming-soon-message {
        background: #fef3c7;
        border: 1px solid #f59e0b;
        border-radius: 8px;
        padding: 0.75rem 1rem;
        margin-top: 0.5rem;
    }

    .coming-soon-message p {
        margin: 0;
        color: #92400e;
        font-size: 0.9rem;
        font-style: italic;
    }

    /* FAQ Styles */
    .faq-section {
        margin: 3rem 0;
    }

    .faq-list {
        max-width: 800px;
        margin: 0 auto;
    }

    .faq-item {
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        margin-bottom: 1rem;
        overflow: hidden;
        transition: all 0.3s ease;
    }

    .faq-item:hover {
        border-color: #3182ce;
        box-shadow: 0 2px 8px rgba(49, 130, 206, 0.1);
    }

    .faq-question {
        padding: 1.25rem;
        background: #f8fafc;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-weight: 600;
        color: #2d3748;
        transition: background-color 0.2s ease;
    }

    .faq-question:hover {
        background: #edf2f7;
    }

    .faq-toggle {
        font-size: 1.5rem;
        font-weight: bold;
        color: #3182ce;
        transition: all 0.3s ease;
        user-select: none;
        width: 20px;
        text-align: center;
    }

    .faq-item.active .faq-toggle {
        transform: none;
    }

    .faq-answer {
        max-height: 0;
        overflow: hidden;
        transition: max-height 0.3s ease;
        background: #f8fafc;
    }

    .faq-item.active .faq-answer {
        max-height: 200px;
    }

    .faq-answer p {
        padding: 1rem 1.25rem;
        margin: 0;
        color: #64748b;
        line-height: 1.5;
    }
</style>

<script>
function showComingSoonPopup() {
    document.getElementById('coming-soon-overlay').classList.remove('popup-hidden');
    document.getElementById('coming-soon-popup').classList.remove('popup-hidden');
}

function closeComingSoonPopup() {
    document.getElementById('coming-soon-overlay').classList.add('popup-hidden');
    document.getElementById('coming-soon-popup').classList.add('popup-hidden');
}

function showUnderConstruction() {
    document.getElementById('under-construction-overlay').classList.remove('popup-hidden');
    document.getElementById('under-construction-popup').classList.remove('popup-hidden');
}

function closeUnderConstructionPopup() {
    document.getElementById('under-construction-overlay').classList.add('popup-hidden');
    document.getElementById('under-construction-popup').classList.add('popup-hidden');
}

function toggleFAQ(element) {
    const faqItem = element.parentElement;
    const toggleButton = element.querySelector('.faq-toggle');
    const wasActive = faqItem.classList.contains('active');

    // Close all FAQ items first
    document.querySelectorAll('.faq-item').forEach(item => {
        item.classList.remove('active');
        const toggle = item.querySelector('.faq-toggle');
        if (toggle) {
            toggle.textContent = '+';
        }
    });

    // If item wasn't active, open it. If it was active, leave it closed.
    if (!wasActive) {
        faqItem.classList.add('active');
        toggleButton.textContent = '-';
    }
}

// Add click handlers to all tutorial links that have href="#"
document.addEventListener('DOMContentLoaded', function() {
    const tutorialLinks = document.querySelectorAll('.tutorial-link[href="#"]');
    tutorialLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            showComingSoonPopup();
        });
    });
    
    // Close popup when clicking overlay
    document.getElementById('coming-soon-overlay').addEventListener('click', closeComingSoonPopup);
    document.getElementById('under-construction-overlay').addEventListener('click', closeUnderConstructionPopup);
});
</script>
{% endblock %}
