{% extends "base_getting_started.html" %}

{% block title %}Getting Started - Your Training Monkey{% endblock %}

{% block meta_description %}Learn how to get started with Your Training Monkey's training load divergence analysis. Connect Strava, import your data, and get instant insights.{% endblock %}

{% block meta_keywords %}getting started, training analysis, Strava integration, trail running, training load{% endblock %}

{% block og_title %}Getting Started with Your Training Monkey{% endblock %}

{% block og_description %}Everything you need to know to get started with Your Training Monkey's training analysis{% endblock %}

{% block content %}
        <!-- Contextual Banner -->
        <div class="contextual-banner" id="contextual-banner" style="display: none;" data-section="contextual-banner">
            <h2 id="contextual-title">Welcome!</h2>
            <p id="contextual-message">Let's get you started with Your Training Monkey.</p>
        </div>

        <!-- Onboarding Progress Banner -->
        <div class="contextual-banner" id="onboarding-progress-banner">
            <h2>Getting Started is as Simple as <span class="step-number-large">1</span> ‚Üí <span class="step-number-large">2</span> ‚Üí <span class="step-number-large">3</span> ‚Üí <span class="step-number-large">4</span></h2>
            {% if user_context and user_context.next_steps %}
            <p><strong>Next:</strong> {{ user_context.next_steps }}</p>
            {% elif not user_context or not user_context.is_authenticated %}
            <p><strong>Ready to start?</strong> Create your account and connect Strava to begin analyzing your training data.</p>
            {% endif %}
        </div>


        <!-- 3-Step Visual Setup Process -->
        <section class="setup-section">
            <div class="setup-container">
                
                <div class="timeline-container">
                    <!-- Step 1: Create User Account -->
                    <div class="timeline-step animate-on-scroll {% if user_context and user_context.onboarding_step != 'welcome' %}completed{% elif user_context and user_context.onboarding_step == 'welcome' %}current{% elif not user_context or not user_context.is_authenticated %}current{% endif %}">
                        <div class="step-icon">
                            <div class="icon-circle">
                                <span class="step-number-large">1</span>
                            </div>
                        </div>
                        <div class="step-content">
                            <h3>Create Your Account</h3>
                            <p>Set up your personal profile and training preferences</p>
                            
                            <!-- What you get -->
                            <div class="step-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üë§</span>
                                    <span>Personal Your Training Monkey profile</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üîí</span>
                                    <span>Secure account protection</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üéØ</span>
                                    <span>Customized training preferences</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">‚úÖ</span>
                                    <span>Activated account access</span>
                                </div>
                            </div>
                            
                            {% if user_context and user_context.onboarding_step in ['strava_connected', 'first_activity', 'dashboard_intro', 'features_tour', 'goals_setup', 'first_recommendation', 'journal_intro', 'completed'] %}
                            <div class="step-status completed">
                                <span class="status-icon">‚úÖ</span>
                                <span>Completed</span>
                            </div>
                            {% elif user_context and user_context.onboarding_step == 'welcome' %}
                            <div class="step-action">
                                <a href="/signup" class="btn btn-primary btn-prominent">Create Account</a>
                            </div>
                            {% elif not user_context or not user_context.is_authenticated %}
                            <div class="step-action">
                                <a href="/signup" class="btn btn-primary btn-prominent">Create Account</a>
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Timeline Connector -->
                    <div class="timeline-connector {% if user_context and user_context.onboarding_step in ['first_activity', 'data_sync', 'goals_setup', 'dashboard_intro', 'features_tour', 'first_recommendation', 'journal_intro', 'completed'] %}completed{% endif %}"></div>

                    <!-- Step 2: Connect Strava -->
                    <div class="timeline-step animate-on-scroll animate-delay-1 {% if user_context and user_context.onboarding_step in ['first_activity', 'data_sync', 'goals_setup', 'dashboard_intro', 'features_tour', 'first_recommendation', 'journal_intro', 'completed'] %}completed{% elif user_context and user_context.onboarding_step == 'strava_connected' %}current{% endif %}">
                        <div class="step-icon">
                            <div class="icon-circle">
                                <span class="step-number-large">2</span>
                            </div>
                        </div>
                        <div class="step-content">
                            <h3>Connect Strava</h3>
                            <p>Link your Strava account with one-click connection</p>
                            
                            <!-- What will happen list -->
                            <div class="step-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üîê</span>
                                    <span>Secure OAuth connection</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìä</span>
                                    <span>Access to all activities</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üîÑ</span>
                                    <span>Automatic sync of Strava history</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">‚ö°</span>
                                    <span>Real-time updates</span>
                                </div>
                            </div>
                            
                            {% if user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'goals_setup', 'first_recommendation', 'journal_intro', 'completed'] %}
                            <div class="step-status completed">
                                <span class="status-icon">‚úÖ</span>
                                <span>Completed</span>
                            </div>
                            {% elif user_context and user_context.onboarding_step == 'strava_connected' %}
                            <div class="step-action">
                                <a href="/auth/strava-signup" class="btn btn-strava">
                                    <img src="{{ url_for('serve_landing_static', filename='btn_strava_connect_with_orange_x2.svg') }}" 
                                         alt="Connect with Strava" 
                                         style="height: 32px; width: auto;">
                                </a>
                            </div>
                            {% elif not user_context or not user_context.is_authenticated %}
                            <div class="step-action">
                                <a href="/auth/strava-signup" class="btn btn-strava">
                                    <img src="{{ url_for('serve_landing_static', filename='btn_strava_connect_with_orange_x2.svg') }}" 
                                         alt="Connect with Strava" 
                                         style="height: 32px; width: auto;">
                                </a>
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Timeline Connector -->
                    <div class="timeline-connector {% if user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'goals_setup', 'first_recommendation', 'journal_intro', 'completed'] %}completed{% endif %}"></div>

                    <!-- Step 3: Setup Goals -->
                    <div class="timeline-step animate-on-scroll animate-delay-2 {% if user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'first_recommendation', 'journal_intro', 'completed'] %}completed{% elif user_context and user_context.onboarding_step == 'goals_setup' %}current{% endif %}">
                        <div class="step-icon">
                            <div class="icon-circle">
                                <span class="step-number-large">3</span>
                            </div>
                        </div>
                        <div class="step-content">
                            <h3>Setup Goals</h3>
                            <p>Configure your training goals and preferences</p>
                            
                            <!-- What you get -->
                            <div class="step-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üéØ</span>
                                    <span>Personalized training targets</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìà</span>
                                    <span>Progress tracking setup</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">ü§ñ</span>
                                    <span>AI recommendations tailored to your goals</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìä</span>
                                    <span>Customized dashboard metrics</span>
                                </div>
                            </div>
                            
                            {% if user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'first_recommendation', 'journal_intro', 'completed'] %}
                            <div class="step-status completed">
                                <span class="status-icon">‚úÖ</span>
                                <span>Completed</span>
                            </div>
                            {% elif user_context and user_context.onboarding_step == 'goals_setup' %}
                            <div class="step-action">
                                <a href="/goals-setup" class="btn btn-primary btn-prominent">Set Goals</a>
                            </div>
                            {% elif not user_context or not user_context.is_authenticated %}
                            <div class="step-action">
                                <a href="/signup" class="btn btn-primary btn-prominent">Get Started</a>
                            </div>
                            {% endif %}
                        </div>
                    </div>

                    <!-- Timeline Connector -->
                    <div class="timeline-connector {% if user_context and user_context.onboarding_step == 'completed' %}completed{% endif %}"></div>

                    <!-- Step 4: Get Analysis -->
                    <div class="timeline-step animate-on-scroll animate-delay-3 {% if user_context and user_context.onboarding_step == 'completed' %}completed{% elif user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'first_recommendation', 'journal_intro'] %}current{% endif %}">
                        <div class="step-icon">
                            <div class="icon-circle">
                                <span class="step-number-large">4</span>
                            </div>
                        </div>
                        <div class="step-content">
                            <h3>Get Analysis</h3>
                            <p>View your training load divergence and get personalized recommendations</p>
                            
                            <!-- What you get -->
                            <div class="step-details">
                                <div class="detail-item">
                                    <span class="detail-icon">üìä</span>
                                    <span>Training load divergence analysis</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">ü§ñ</span>
                                    <span>AI-powered recommendations</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">üìà</span>
                                    <span>Progress tracking and trends</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-icon">‚ö°</span>
                                    <span>Real-time insights and alerts</span>
                                </div>
                            </div>
                            
                            {% if user_context and user_context.onboarding_step == 'completed' %}
                            <div class="step-status completed">
                                <span class="status-icon">‚úÖ</span>
                                <span>Completed</span>
                            </div>
                            {% elif user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'first_recommendation', 'journal_intro'] %}
                            <div class="step-action">
                                <a href="/dashboard" class="btn btn-primary btn-prominent">View Dashboard</a>
                            </div>
                            {% elif not user_context or not user_context.is_authenticated %}
                            <div class="step-action">
                                <a href="/signup" class="btn btn-primary btn-prominent">Get Started</a>
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- FAQ Section -->
        <section class="faq-section" id="faq-section" data-section="faq-section">
            <h2>Frequently Asked Questions</h2>
            <div class="faq-list">
                <!-- Contextual FAQ based on onboarding step -->
                {% if user_context and user_context.onboarding_step == 'welcome' %}
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How do I connect my Strava account?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Click the "Connect with Strava" button and follow the authorization process. We'll securely access your activity data using OAuth.</p>
                    </div>
                </div>
                {% endif %}
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Is my data secure?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, we take data security seriously. We use OAuth to securely connect to Strava, never store your password, and follow industry best practices for data protection.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How much data do I need?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>We need at least 28 days of training data to provide accurate divergence analysis. This gives us enough data points to identify patterns in your training load and internal stress levels.</p>
                    </div>
                </div>
                
                {% if user_context and user_context.onboarding_step in ['strava_connected', 'first_activity'] %}
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How long does data processing take?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Data processing typically takes 2-5 minutes depending on the amount of activity data. You'll receive an email notification when your analysis is ready.</p>
                    </div>
                </div>
                {% endif %}
                
                {% if user_context and user_context.onboarding_step == 'goals_setup' %}
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Why should I set training goals?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Setting goals helps our AI provide more personalized recommendations. Your goals help us understand what you're training for and tailor our analysis to your specific objectives.</p>
                    </div>
                </div>
                {% endif %}
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What if I don't have 28 days of data?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>If you don't have 28 days of data yet, continue recording your workouts with a heart rate monitor and your data history will build up automatically.</p>
                    </div>
                </div>
                
                {% if user_context and user_context.onboarding_step in ['dashboard_intro', 'features_tour', 'goals_setup', 'first_recommendation', 'journal_intro', 'completed'] %}
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How do I interpret my divergence analysis?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Positive divergence means your external load is higher than internal stress (good fitness adaptation). Negative divergence indicates potential overtraining risk.</p>
                    </div>
                </div>
                {% endif %}
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How does divergence analysis work?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Divergence analysis compares your external training load (distance, time, elevation) with your internal stress (TRIMP from heart rate). When these diverge, it indicates potential overtraining or undertraining.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What is TRIMP and why is it important?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>TRIMP (Training Impulse) measures your internal training stress based on heart rate data. It can be a powerful tool for predicting injury risk, when compared to your physical load (distance and elevation).  TRIMP accounts for how hard your body worked not how much work you did.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Can I use "Your Training Monkey" without a heart rate monitor?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Not really.  The novel feature of "Your Training Monkey" is that it compares your heart's response to the physical load you put on it. Without the heart rate data, we cannot provide the valuable insights or predict your risk of overtraining or injury.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How often should I check my training analysis?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>To get the most out of "Your Training Monkey", you should check in everyday.  The dashboard updates automatically as new activities are synced from Strava. After you activity syncs, you can record notes from your most recent workout and see recommendations for your next workout.</p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What if I disagree with the AI recommendations?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>AI recommendations are suggestions based on your data patterns. Always listen to your body and consult with a coach or healthcare professional for personalized training advice.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action Section -->
        <section class="tutorial-section">
            <h2>Ready to Master Your Training?</h2>
            <p>Take your training analysis to the next level with our comprehensive resources and advanced features.</p>
            
            <div class="tutorial-buttons">
                <a href="/guide" class="btn btn-primary">View Guide</a>
                <a href="/dashboard" class="btn btn-secondary">Go to Dashboard</a>
            </div>
        </section>
{% endblock %}
